---
categories:
  ai:
    # the list of tools to generate configurations for
    tools: [ seqcfg, gengof, simplify, uvatlas, fitsubdiv_intra, encoder, decoder, mmetric ]

    encoder:
      - mode: 0

      # input / sequence configuration
      - imesh: ${seq-prefix}${src-dir}/${src-mesh}
      - itex:  ${seq-prefix}${src-dir}/${src-tex}
      - fstart: ${first-frame}
      - fcount: ${num-frames}
      - gdepth: ${src-geom-bits}
      - tdepth: ${src-texcoord-bits}

      # output
      - compressed: ${src-dir}.vmesh

      # preprocessed data
      - base:   ${src-dir}_r${pp}_ai/${src-mesh}_base.obj
      - subdiv: ${src-dir}_r${pp}_ai/${src-mesh}_subdiv.obj

      # common options
      - invorient: 0
      - tqp: 10
      - gofmax: 32
      - dqb: 0.3333,0.3333,0.3333

      # the following defaults are overridden for some sequences and rates
      - unifvertices: 0
      - texwidth: 2048
      - texheight: 2048

      # configuration for HM
      - gvencconfig: ${cfg-prefix}/hm/ctc-hm-displacements-map-ai-main10.cfg
      - tvencconfig: ${cfg-prefix}/hm/ctc-hm-texture-ai.cfg

      # colourspace conversion
      - cscencconfig: ${cfg-prefix}/hdrconvert/bgr444toyuv420.cfg
      - cscdecconfig: ${cfg-prefix}/hdrconvert/yuv420tobgr444.cfg

    decoder:
      - mode: 1
      - compressed: ${src-dir}.vmesh
      # Specifying the first output frame number helps align src/dec filenames
      - fstart: ${first-frame}
      - cscdecconfig: ${cfg-prefix}/hdrconvert/yuv420tobgr444.cfg

    # sequences to code in this condition, and their overridden options/vars
    sequences:
      basketball_player:
        pp: { r1: 0.03, r2: 0.03, r3: 0.06, r4: 0.36, r5: 0.48 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 3, r4: 0, r5: 0 }
          - gqp: { r1: 11, r2: 11, r3: 11, r4: 12, r5: 12 }
          - tvqp: { r1: 41, r2: 38, r3: 30, r4: 29, r5: 25 }
          - dqp: { r1: "43,55,55", r2: "25,37,37", r3: "23,35,35", r4: "28,40,40", r5: "30,42,42" }

      dancer:
        pp: { r1: 0.03, r2: 0.03, r3: 0.06, r4: 0.36, r5: 0.48 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 3, r4: 0, r5: 0 }
          - gqp: { r1: 11, r2: 11, r3: 11, r4: 12, r5: 12 }
          - tvqp: { r1: 42, r2: 39, r3: 31, r4: 30, r5: 26 }
          - dqp: { r1: "42,54,54", r2: "24,36,36", r3: "23,35,35", r4: "28,40,40", r5: "28,40,40" }

      football:
        pp: { r1: 0.03, r2: 0.06, r3: 0.12, r4: 0.48, r5: 0.72 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 2, r4: 0, r5: 0 }
          - gqp: { r1: 11, r2: 11, r3: 11, r4: 12, r5: 12 }
          - tvqp: { r1: 44, r2: 37, r3: 41, r4: 41, r5: 36 }
          - dqp: { r1: "40,52,52", r2: "34,46,46", r3: "26,38,38", r4: "30,42,42", r5: "27,39,39" }
          - texwidth: { r3: 4096, r4: 4096, r5: 4096 }
          - texheight: { r3: 4096, r4: 4096, r5: 4096 }

      levi:
        pp: { r1: 0.03, r2: 0.12, r3: 0.12, r4: 0.24, r5: 0.48 }
        encoder:
          - it: { r1: 3, r2: 2, r3: 2, r4: 0, r5: 0 }
          - gqp: { r1: 11, r2: 11, r3: 11, r4: 12, r5: 12 }
          - tvqp: { r1: 38, r2: 40, r3: 35, r4: 32, r5: 30 }
          - dqp: { r1: "39,51,51", r2: "34,46,46", r3: "30,42,42", r4: "30,42,42", r5: "28,40,40" }
          - texwidth: { r2: 4096, r3: 4096, r4: 4096, r5: 4096 }
          - texheight: { r2: 4096, r3: 4096, r4: 4096, r5: 4096 }

      longdress:
        pp: { r1: 0.03, r2: 0.06, r3: 0.36, r4: 0.48 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 0, r4: 0, r5: 0 }
          - gqp: 10
          - tvqp: { r1: 47, r2: 43, r3: 42, r4: 41, r5: 39 }
          - dqp: { r1: "30,42,42", r2: "26,38,38", r3: "32,44,44", r4: "26,38,38", r5: "34,46,46" }
          - unifvertices: { r5: 1 }

      mitch:
        pp: { r1: 0.03, r2: 0.06, r3: 0.48, r4: 0.72, r5: 0.72 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 0, r4: 0, r5: 0 }
          - gqp: { r1: 11, r2: 11, r3: 12, r4: 12, r5: 12 }
          - tvqp: { r1: 42, r2: 39, r3: 45, r4: 42, r5: 38 }
          - dqp: { r1: "28,40,40", r2: "28,40,40", r3: "30,42,42", r4: "30,42,42", r5: "30,42,42" }
          - texwidth: { r3: 4096, r4: 4096, r5: 4096 }
          - texheight: { r3: 4096, r4: 4096, r5: 4096 }

      soldier:
        pp: { r1: 0.03, r2: 0.06, r3: 0.06, r4: 0.48 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 3, r4: 0, r5: 0 }
          - gqp: 10
          - tvqp: { r1: 43, r2: 40, r3: 36, r4: 36, r5: 34 }
          - dqp: { r1: "31,43,43", r2: "24,36,36", r3: "24,36,36", r4: "27,39,39", r5: "34,46,46" }
          - unifvertices: { r5: 1 }

      thomas:
        pp: { r1: 0.06, r2: 0.06, r3: 0.48, r4: 0.60, r5: 0.60 }
        encoder:
          - it: { r1: 3, r2: 3, r3: 0, r4: 0, r5: 0 }
          - gqp: { r1: 11, r2: 11, r3: 12, r4: 12, r5: 12 }
          - tvqp: { r1: 40, r2: 36, r3: 41, r4: 38, r5: 35 }
          - dqp: { r1: "30,42,42", r2: "27,39,39", r3: "28,40,40", r4: "28,40,40", r5: "28,40,40" }
          - texwidth: { r3: 4096, r4: 4096, r5: 4096 }
          - texheight: { r3: 4096, r4: 4096, r5: 4096 }
